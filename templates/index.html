<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Watermarking</title>
    <style>
        /* Reset some default styles */
        body, h1, h2, form, div {
            margin: 0;
            padding: 0;
            text-align: center;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            color: #333;
            padding: 20px;
        }

        h1 {
            font-size: 28px;
            margin-bottom: 20px;
        }

        h2 {
            font-size: 24px;
            margin-bottom: 10px;
        }

        /* Define styles for the main container */
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        /* Styles for the drop zone */
        #pictures-drop-zone {
            width: 93%;
            height: 100px;
            border: 2px dashed #ccc;
            text-align: center;
            padding: 20px;
            cursor: pointer;
            background-color: #f9f9f9;
        }

        /* Styles for the watermark drop zone */
        #watermark-drop-zone {
            width: 93%;
            height: 100px;
            border: 2px dashed #ccc;
            text-align: center;
            padding: 20px;
            cursor: pointer;
            background-color: #f9f9f9;
        }


        .highlight {
            background-color: #f0f0f0;
        }

        /* Style the watermark upload form */
        .upload-form {
            margin-top: 20px;
        }

        .upload-form h2 {
            margin-bottom: 15px;
        }

        .upload-form input[type="file"] {
            display: none;
        }

        .upload-form label {
            display: block;
            font-size: 16px;
            margin-bottom: 5px;
        }

        .upload-button {
            background-color: #007bff;
            color: #fff;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
        }

        /* Style the message box */
        #message-box {
            margin-top: 20px;
            padding: 10px;
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 5px;
            color: #155724;
            font-size: 16px;
        }

        /* Style the download button */
        .download-button {
            margin-top: 20px;
            text-align: center;
        }

        .download-button input[type="submit"] {
            background-color: #28a745;
            color: #fff;
            border: none;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Image Watermarking</h1>

        <!-- Drag and drop box for uploading photos -->
        <form method="POST" action="/upload-pictures" enctype="multipart/form-data" class="upload-form">
            <h2>Upload Pictures</h2>
            <div id="pictures-drop-zone" class="drop-zone">
                <p>Drag &amp; Drop Pictures Here or Click to Upload</p>
                <input type="file" name="pictures" id="pictures" multiple accept="image/jpeg" style="display: none;">
            </div>
        </form>

        <!-- Display selected file name -->
        <p id="selected-pictures-name"></p>

        <!-- Form to upload watermark -->
        <form method="POST" action="/upload-watermark" enctype="multipart/form-data" class="upload-form">
            <h2>Upload Watermark</h2>
            <div id="watermark-drop-zone" class="drop-zone">
                <p>Drag &amp; Drop Watermark Here or Click to Upload</p>
                <input type="file" name="watermark" id="watermark" accept="image/png" style="display: none;">
            </div>
        </form>

        <!-- Display selected file name -->
        <p id="selected-file-name"></p>

        <!-- Message box -->
        <div id="message-box">
            <!-- Messages will be displayed here -->
        </div>

        <!-- Mark Images button -->
        <div class="download-button">
            <form method="POST" action="/mark-images">
                <input type="submit" value="Mark Images" class="download-button">
            </form>
        </div>

        <!-- Download button -->
        <div class="download-button">
            <form method="GET" action="/download-marked">
                <input type="submit" value="Download Marked Images" class="download-button">
            </form>
        </div>

        <script>
            const picturesDropZone = document.getElementById('pictures-drop-zone');
            const picturesInput = document.getElementById('pictures');
            const selectedPicturesNames = document.getElementById('selected-pictures-name');

            picturesInput.addEventListener('change', function () {
                const files = picturesInput.files;
                if (files.length > 0) {
                    let fileList = 'Selected pictures: ';
                    for (let i = 0; i < files.length; i++) {
                        fileList += files[i].name;
                        if (i < files.length - 1) {
                            fileList += ', ';
                        }
                    }
                    selectedPicturesNames.textContent = fileList;
                } else {
                    selectedPicturesNames.textContent = '';
                }
            });

            picturesDropZone.addEventListener('click', function () {
                picturesInput.click();
            });
        </script>

    <script>
    const watermarkDropZone = document.getElementById('watermark-drop-zone');
    const watermarkInput = document.getElementById('watermark');
    const selectedFileName = document.getElementById('selected-file-name');

    watermarkInput.addEventListener('change', function () {
        const file = watermarkInput.files[0];
        if (file) {
            selectedFileName.textContent = `Selected watermark: ${file.name}`;
        } else {
            selectedFileName.textContent = '';
        }
    });

    watermarkDropZone.addEventListener('click', function () {
        watermarkInput.click();
    });
    </script>
    </div>
</body>
</html>
